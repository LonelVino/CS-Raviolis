webpackJsonp([14],{YJtm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=i("bOdI"),o=i.n(a),s=i("woOf"),l=i.n(s),r=i("vMJZ"),c=i("cAgV"),d=i("0xDb"),u={name:"UserTable",components:{Pagination:i("1onU").a},directives:{waves:c.a},filters:{statusFilter:function(t){return{deleted:"danger"}[t]},typeFilter:function(t){return calendarTypeKeyValue[t]}},data:function(){return{tableKey:0,list:null,tmp_list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,name:void 0},showReviewer:!1,temp:{id:void 0,name:"None"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},rules:{name:[{required:!0,message:"name is required",trigger:"blur"}]},downloadLoading:!1,confirmLoading:!1}},created:function(){this.getList()},methods:(n={handleClick:function(t){var e=this;t.isEdit?this.$delete(t,"isEdit"):this.$confirm("Note! You can only modify one row at a time, not multiple rows of data!","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancle",type:"warning"}).then(function(){e.$set(t,"isEdit",!0)})},handleSubmit:function(t){this.$delete(t,"isEdit"),this.inlineUpdateData(t)},handleCancle:function(t){this.getList()},ResetFilter:function(){this.getList()},getList:function(){var t=this;this.listLoading=!0,Object(r.c)().then(function(e){console.log("response.data.infos:",e.data.infos),t.list=e.data.infos,t.tmp_list=e.data.infos,setTimeout(function(){t.listLoading=!1},1500)})},handleFilter:function(){var t=[];if(this.list=this.tmp_list,console.log(this.listQuery,this.list),void 0!=this.listQuery.name&&""!=this.listQuery.name){for(var e=0;e<this.list.length;e++)this.list[e].name==this.listQuery.name&&t.push(this.list[e]);this.list=t,console.log("FILTER ACCORDING TO THE NAME.....")}else this.getList(),this.$message({type:"info",message:"NO FILTER"});console.log("AFTER FILTERING, THE LIST IS: ",this.list)}},o()(n,"ResetFilter",function(){this.getList()}),o()(n,"compare",function(t){return function(e,i){var n=e[t];return i[t]-n}}),o()(n,"sortChange",function(t){t.prop,t.order;this.tmp_list=this.list,this.list.sort(this.compare("a_score")),console.log(this.list)}),o()(n,"resetTemp",function(){this.temp={id:void 0,name:""}}),o()(n,"handleCreate",function(){var t=this;console.log("dialogStatus:",this.dialogStatus),this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.clearValidate()})}),o()(n,"createData",function(){var t=this;this.$refs.dataForm.validate(function(e){e&&Object(r.a)(t.temp).then(function(){t.confirmLoading=!0,t.dialogFormVisible=!1,t.confirmLoading=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),t.getList()}).catch(function(t){console.error(t)})})}),o()(n,"handleUpdate",function(t){var e=this;console.log("dialogStatus:",this.dialogStatus),this.temp=l()({},t),this.dialogStatus="Update",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})}),o()(n,"updateData",function(){var t=this;this.$refs.dataForm.validate(function(e){if(e){var i=l()({},t.temp);console.log(i),Object(r.j)(i).then(function(){t.confirmLoading=!0,t.dialogFormVisible=!1,t.confirmLoading=!1,t.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}).catch(function(e){console.error(e),t.$notify({title:"Failed to update",message:"Update Failed"+e,type:"warning",duration:2e3})})}})}),o()(n,"inlineUpdateData",function(t){var e=this,i=l()({},t);console.log("TEMPDATA:",i),Object(r.j)(i).then(function(){e.confirmLoading=!0,e.dialogFormVisible=!1,e.confirmLoading=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}).catch(function(t){console.error(t),e.$notify({title:"Failed to update",message:"Update Failed"+t,type:"warning",duration:2e3})})}),o()(n,"confirmDelete",function(t){var e=this;this.$confirm("This operation will delete this information forever, are you sure?","Note",{confirmButtonText:"Confirm",cancelButtonText:"Cancle",type:"warning"}).then(function(){e.handleDelete(t)}).catch(function(){e.$message({type:"info",message:"Delete cancled"})})}),o()(n,"handleDelete",function(t){var e=this;console.log("INDEX:",t),Object(r.b)(t).then(function(){e.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),e.getList()}).catch(function(t){e.$notify({title:"Failed",message:"Delete failed",type:"danger",duration:2e3})})}),o()(n,"handleDownload",function(){var t=this;this.downloadLoading=!0,i.e(17).then(i.bind(null,"zWO4")).then(function(e){var i=t.formatJson(["id","name"]);e.export_json_to_excel({header:["ID","name"],data:i,filename:"Users table"}),t.downloadLoading=!1})}),o()(n,"formatJson",function(t){return this.list.map(function(e){return t.map(function(t){return"timestamp"===t?Object(d.b)(e[t]):e[t]})})}),n)},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Name"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter.apply(null,arguments)}},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      Search\n    ")]),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:t.ResetFilter}},[t._v("\n      Reset\n    ")]),t._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("\n      Add\n    ")]),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("\n      Export\n    ")]),t._v(" "),i("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},on:{change:function(e){t.tableKey=t.tableKey+1}},model:{value:t.showReviewer,callback:function(e){t.showReviewer=e},expression:"showReviewer"}},[t._v("\n      reviewer\n    ")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange}},[i("el-table-column",{attrs:{label:"ID",prop:"id",sortable:"custom",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("span",[t._v(t._s(n.id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Name",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?i("div",[i("el-input",{on:{click:function(i){return t.handleClick(e.row)}},model:{value:e.row.name,callback:function(i){t.$set(e.row,"name",i)},expression:"scope.row.name"}})],1):i("div",{on:{click:function(i){return t.handleClick(e.row)}}},[t._v(" "+t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"Actions",align:"center",width:"350","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleSubmit(n)}}},[t._v("\n          Submit\n        ")]),t._v(" "),i("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.handleCancle(n)}}},[t._v("\n          Cancle\n        ")]),t._v(" "),i("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return t.handleUpdate(n)}}},[t._v("\n          Edit in Dialog\n        ")]),t._v(" "),"deleted"!=n.status?i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.confirmDelete(n.id)}}},[t._v("\n          Delete\n        ")]):t._e()]}}])})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),i("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"70px"}},[i("el-form-item",{attrs:{label:"Name",prop:"name"}},[i("el-input",{model:{value:t.temp.name,callback:function(e){t.$set(t.temp,"name",e)},expression:"temp.name"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("\n        Cancel\n      ")]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.confirmLoading,expression:"confirmLoading"}],attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v("\n        Confirm\n      ")])],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(u,m,!1,function(t){i("tZof")},"data-v-e0572656",null);e.default=f.exports},tZof:function(t,e){}});
//# sourceMappingURL=14.db4116c7d751845c7e5e.js.map