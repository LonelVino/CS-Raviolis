{"version":3,"sources":["webpack:///./src/api/order.js","webpack:///src/views/user-order-table/index.vue","webpack:///./src/views/user-order-table/index.vue?fa31","webpack:///./src/views/user-order-table/index.vue"],"names":["BASE_URL","user_order_table","name","components","Pagination","directives","waves","data","listLoading","tableKey","usr_id","order_items","orders","all_order_items","tmp_prod_info","idx","dialogFormVisible","dialogStatus","confirmLoading","created","this","getList","computed","noOrder","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","i","wrap","_context","prev","next","request","url","method","sent","order_infos","length","paid","ord_id","id","then","response","push","order_items_info","getProdbyId","setTimeout","catch","err","console","error","log","stop","_this2","_callee2","j","prod_info","_context2","prod_name","dt_info","mini_num","Object","shop","product_id","assign_default","quantity_unit","gotten","$set","itm_price","quantity","usr_price","substr","handleChangeGotten","row","_this3","payload","status","$notify","title","message","toUpperCase","type","duration","handleChangeOrderPaid","ord_paid","_this4","confirmDeleteItem","index","_this5","$confirm","confirmButtonText","cancelButtonText","handleDeleteItem","$message","ord_itm_id","_this6","refreshTable","confirmDeleteOrder","_this7","handleDeleteOrder","_this8","views_user_order_table","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_e","_l","order","attrs","gutter","span","shadow","_s","active-value","inactive-value","active-color","inactive-color","on","change","$event","model","value","callback","$$v","expression","staticStyle","height","margin-top","font-size","font-weight","color","click","rawName","key","ref","refInFor","width","border","fit","highlight-current-row","prop","label","align","show-overflow-tooltip","scopedSlots","_u","fn","scope","ttl_price","class-name","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.1ae5c8ea89e07a6e8751.js","sourcesContent":["import request from '@/utils/request'\n\nvar BASE_URL = '/api_v1/order'\nvar ADMIN_BASE_URL = '/api_v1/order/admin'\n\n// --------------------------------- User Part -----------------------\nexport function getOneOrderItem(id) {\n  return request({\n    url:  BASE_URL + '/one_ord_itm?id='+id,  //id: OrderItem.id\n    method: 'get',\n  })\n}\n\n// Get the realted order items according to the order_id\nexport function getOneOrderItems(ord_id) {\n  return request({\n    url:  BASE_URL + '/usr_ord_itms?id='+ord_id, \n    method: 'get',\n  })\n}\n\n// Get the information of One order (No Detail)\nexport function getUserOneOrder(id) {\n  return request({\n    url:  BASE_URL + '/usr_one_ord?id='+id, //id: UserOrder.id\n    method: 'get',\n  })\n}\n\n// Similar to `getUserOneOrder`, Get all the orders (No Detail)\nexport function getUserAllOrders(usr_id) {\n  return request({\n    url:  BASE_URL + '/usr_all_ords?usr_id='+usr_id, \n    method: 'get',\n  })\n}\n\n\n\nexport function checkUserOneItem(data) {\n  return request({\n    url:  BASE_URL + '/check_usr_one_itm',\n    method: 'put',\n    data\n  })\n}\n\nexport function checkOrderPaid(data) {\n  return request({\n    url:  BASE_URL + '/check_ord_paid',\n    method: 'put',\n    data\n  })\n}\n\nexport function addUserOrderItem(data) {\n  return request({\n    url: BASE_URL + '/add_ord_itm',\n    method: 'post',\n    data\n  })\n}\n\nexport function deleteUserOrderItem(ord_itm_id) {\n  return request({\n    url: BASE_URL + '/delete_usr_one_itm?id='+ ord_itm_id,\n    method: 'delete',\n  })\n}\n\nexport function deleteUserOrder(ord_id) {\n  return request({\n    url: BASE_URL + '/delete_usr_ord?id='+ ord_id,\n    method: 'delete',\n  })\n}\n\n\n\n\n// -========================== Admin Part ===========================\n\nexport function getAllUserOrdesr(id) {\n  return request({\n    url:  BASE_URL + '/all_usr_ords',\n    method: 'get',\n  })\n}\n\nexport function updateCartItem(data) {\n  return request({\n    url: BASE_URL + '/update_cart_item',\n    method: 'put',\n    data\n  })\n}\n\nexport function deleteCart(id) {\n  return request({\n    url: BASE_URL + '/delete_cart?id='+id,\n    method: 'delete',\n  })\n}\n\n\n\nexport function deleteCartItem(id) {\n  return request({\n    url: BASE_URL + '/delete_crt_item?id='+id,\n    method: 'delete',\n  })\n}\n\n\n// ADMIN PART\nexport function getAllCarts() {\n  return request({\n      url: ADMIN_BASE_URL + '/all_carts',\n      method: 'get',\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/order.js","<template>\n  <div class=\"app-container\">\n    <div class=\"notify\" v-if=\"noOrder\">\n      None\n    </div>\n    <div class=\"orders\" v-for=\"order in orders\">\n      <div class=\"user-order\">\n        <el-row :gutter=\"12\">\n          <el-col :span=\"3.5\">\n            <el-card class=\"first-card\" shadow=\"hover\">\n              <span class=\"first-card-txt\">{{order.created}} ORDER</span>\n            </el-card>\n          </el-col>\n          <el-col :span=\"6\">\n            <el-card class=\"second-card\"  shadow=\"hover\">\n              <span>Total Price:  {{order.usr_price}} €</span>\n            </el-card>\n          </el-col>\n          <el-col :span=\"6\">\n            <el-card class=\"second-card\"  shadow=\"hover\">\n              <span>Has paid:</span>\n              <el-switch\n                v-model=\"order.paid\"\n                :active-value=\"1\"\n                :inactive-value=\"0\"\n                active-color=\"#02538C\"\n                inactive-color=\"#B9B9B9\"\n                @change=\"handleChangeOrderPaid(order.id, order.paid)\"\n              />\n            </el-card>\n          </el-col>\n          <el-col :span=\"3\">\n            <div class=\"remove-all\">\n              <el-button style=\" height:3vw; margin-top:-1vw; font-size: 1vw; font-weight: bolder; color:#a04949 \" type='warning' @click=\"confirmDeleteOrder(order.id)\">\n                Remove Order\n              </el-button>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n      <el-table\n        class=\"order-table\"\n        ref=\"multipleTable\"\n        :key=\"tableKey\"\n        v-loading=\"listLoading\"\n        :data=\"order.order_items\"\n        border\n        fit\n        highlight-current-row\n        style=\"width: 100%;\">\n        <el-table-column prop=\"id\" label=\"ID\" width=\"50px\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column label=\"Product\" width=\"200px\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <div> {{ scope.row.prod_name }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"mini_num\" label=\"Num(/1 Unit)\" width=\"150px\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column label=\"Unit Price\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <div> {{ scope.row.itm_price }} €</div>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"quantity\" label=\"Quantity\"  align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"ttl_price\" label=\"Total\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <div> {{ scope.row.ttl_price }} €</div>\n          </template>\n        </el-table-column>\n        </el-table-column>\n        <el-table-column label=\"Has Gotten\" width=\"100px\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.gotten\"\n            :active-value=\"1\"\n            :inactive-value=\"0\"\n            active-color=\"#02538C\"\n            inactive-color=\"#B9B9B9\"\n            @change=\"handleChangeGotten(scope.row)\"\n          />\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Actions\" align=\"center\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"{row}\">\n            <el-button v-if=\"row.status!='deleted'\" size=\"mini\" type=\"danger\" @click=\"confirmDeleteItem(row.id)\">\n              Remove\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {getProd} from '@/api/shop.js'\nimport {getOneOrderItem, getUserOneOrder, getUserAllOrders, getOneOrderItems, checkUserOneItem,\ncheckOrderPaid, deleteUserOrderItem, deleteUserOrder} from '@/api/order.js'\nimport Pagination from '@/components/Pagination' // secondary package based on el-pagination\nimport waves from '@/directive/waves' // waves directive\n\nexport default {\n  name: 'OrderTable',\n  components: { Pagination },\n  directives: { waves },\n  data() {\n    return {\n      listLoading: false,\n      tableKey: 0,\n\n      usr_id: 13,    //TODO: tobe modified\n      order_items: null,\n      orders: null,\n      all_order_items: [],\n\n      tmp_prod_info: null,\n      idx: 0,\n\n      // Edit dialog configuration\n      dialogFormVisible: false,\n      dialogStatus: '',\n      confirmLoading: false,\n    }\n  },\n  created() {\n    this.getList()\n    // console.log(this.noOrder)\n  },\n  computed: {\n    noOrder() {return (this.orders==null)}\n  },\n  methods: {\n    async getList() {\n      this.listLoading = true\n      var res = await getUserAllOrders(this.usr_id)\n      this.orders = res.data.order_infos\n      for(var i = 0; i < this.orders.length;i++) {\n        this.orders[i].paid = (this.orders[i].paid==true || this.orders[i].paid==1) ? 1 : 0\n      }\n      for(var i = 0; i < this.orders.length;i++) {\n        getOneOrderItems(this.orders[i].id).then(response => {\n          // console.log('Original Order Items:', response.data.order_items_info)\n          this.all_order_items.push(response.data.order_items_info)\n          this.getProdbyId(this.idx).then(this.idx++)\n          setTimeout(() => {\n            this.listLoading = false\n          }, 1500);\n        }).catch(err => {\n          console.error(err)\n        })\n      }\n      console.log('ORDERS:', this.orders)\n      console.log('ALL ORDER ITEMS:', this.all_order_items)\n    },\n\n    //TODO: modify the product request function\n    async getProdbyId(idx) {\n      // console.log('INDEX WHEN GETTING PRODUCT BY ORDER_ID:', idx)\n      this.all_order_items[idx].prod_name = ''; this.all_order_items[idx].dt_info = ''; this.all_order_items[idx].mini_num = '';\n      for(var j=0; j<this.all_order_items[idx].length; j++) {\n        var prod_info = await getProd(this.all_order_items[idx][j].product_id)\n        this.tmp_prod_info = prod_info.data.prod_info\n        Object.assign(this.all_order_items[idx][j], {\n          prod_name: this.tmp_prod_info.name,\n          dt_info: this.tmp_prod_info.dt_info,\n          mini_num: this.tmp_prod_info.quantity_unit,\n        })\n        this.all_order_items[idx][j].gotten = (this.all_order_items[idx][j].gotten==true || this.all_order_items[idx][j].gotten==1) ? 1 : 0\n        this.$set(this.all_order_items[idx][j], 'ttl_price',  this.all_order_items[idx][j].itm_price * this.all_order_items[idx][j].quantity)\n        this.orders[idx].usr_price += this.all_order_items[idx][j].itm_price * this.all_order_items[idx][j].quantity\n      }\n      // console.log(idx, this.orders[idx], this.all_order_items[idx])\n      Object.assign(this.orders[idx], {\n        order_items: this.all_order_items[idx]\n      })\n      this.orders[idx].created = this.orders[idx].created.substr(5,5)\n\n    },\n\n    handleChangeGotten(row){\n      let payload = {'id': row.id, 'gotten': row.gotten}\n      checkUserOneItem(payload).then(res => {\n        const status = (row.gotten == 0) ? 'False' : 'True'\n        this.$notify({\n          title: 'Success',\n          message: 'Status Changed into ' + status.toUpperCase(),\n          type: 'success',\n          duration: 2000\n        })\n      })\n    },\n    handleChangeOrderPaid(ord_id, ord_paid) {\n      let payload = {'ord_id': ord_id, 'paid': ord_paid}\n      checkOrderPaid(payload).then(res => {\n        const status = (ord_paid == 0) ? 'False' : 'True'\n        this.$notify({\n          title: 'Success',\n          message: 'Payment Status Changed into ' + status.toUpperCase(),\n          type: 'success',\n          duration: 2000\n        })\n      }).catch(err => {\n          console.error(err)\n        })\n    },\n\n    confirmDeleteItem(index) {\n      this.$confirm('This operation will delete this item forever, are you sure?', 'Note', {\n        confirmButtonText: 'Confirm', cancelButtonText: 'Cancle', type: 'warning'\n      }).then(() => {\n        this.handleDeleteItem(index)\n      }).catch(() => {\n        this.$message({ type: 'info', message: 'Delete cancled'});\n      });\n    },\n    handleDeleteItem(index) {\n      console.log('INDEX:', index)\n      deleteUserOrderItem(index).then(() => {\n        this.$notify({ title: 'Success', message: 'Delete Successfully', type: 'success', duration: 2000 })\n        this.refreshTable()\n      }).catch(err => {\n        this.$notify({title: 'Failed',message: 'Delete failed',type: 'danger', duration: 2000})\n      })\n    },\n\n    confirmDeleteOrder(index) {\n      this.$confirm('This operation will delete this order forever, are you sure?', 'Note', {\n        confirmButtonText: 'Confirm', cancelButtonText: 'Cancle', type: 'warning'\n      }).then(() => {\n        this.handleDeleteOrder(index)\n      }).catch(() => {\n        this.$message({ type: 'info', message: 'Delete cancled'});\n      });\n    },\n    handleDeleteOrder(index) {\n      console.log('INDEX:', index)\n      deleteUserOrder(index).then(() => {\n        this.$notify({ title: 'Success', message: 'Delete Successfully', type: 'success', duration: 2000 })\n        this.refreshTable()\n      }).catch(err => {\n        this.$notify({title: 'Failed',message: 'Delete failed',type: 'danger', duration: 2000})\n      })\n    },\n\n    refreshTable() {\n      this.idx = 0\n      this.getList()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n\n<style lang=\"scss\" scoped>\n.notify {\n  font-size: 20vw;\n}\n\n.orders {\n  background: linear-gradient(#a04949, #4b57dd);\n  padding: 0.5vw 0;\n  margin-bottom: 1vw;\n  border-radius: 2%;\n}\n.order-table {\n  transform: scale(0.98);\n}\n.user-order {\n  margin: 0.5vw 0px 1vw 0px;\n  transform: scale(0.98);\n  .first-card {\n    background: #909399;\n    .first-card-txt {\n      font-weight: bolder;\n      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n      font-size: 1.05em;\n    }\n  }\n  .second-card {\n    background: #C0C4CC;\n    font-weight: bold;\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    font-size: 0.9em;\n  }\n\n}\n.note {\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n}\n.note-txt {\n  font-weight: bold;\n  color:rgb(226, 134, 13);\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  font-size: 14px;\n  margin: 0.2vw;\n  display: flex;\n  justify-content: flex-start;\n}\n.remove-all {\n  margin: 20px auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/user-order-table/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[(_vm.noOrder)?_c('div',{staticClass:\"notify\"},[_vm._v(\"\\n    None\\n  \")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.orders),function(order){return _c('div',{staticClass:\"orders\"},[_c('div',{staticClass:\"user-order\"},[_c('el-row',{attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":3.5}},[_c('el-card',{staticClass:\"first-card\",attrs:{\"shadow\":\"hover\"}},[_c('span',{staticClass:\"first-card-txt\"},[_vm._v(_vm._s(order.created)+\" ORDER\")])])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticClass:\"second-card\",attrs:{\"shadow\":\"hover\"}},[_c('span',[_vm._v(\"Total Price:  \"+_vm._s(order.usr_price)+\" €\")])])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticClass:\"second-card\",attrs:{\"shadow\":\"hover\"}},[_c('span',[_vm._v(\"Has paid:\")]),_vm._v(\" \"),_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#02538C\",\"inactive-color\":\"#B9B9B9\"},on:{\"change\":function($event){return _vm.handleChangeOrderPaid(order.id, order.paid)}},model:{value:(order.paid),callback:function ($$v) {_vm.$set(order, \"paid\", $$v)},expression:\"order.paid\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"remove-all\"},[_c('el-button',{staticStyle:{\"height\":\"3vw\",\"margin-top\":\"-1vw\",\"font-size\":\"1vw\",\"font-weight\":\"bolder\",\"color\":\"#a04949\"},attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.confirmDeleteOrder(order.id)}}},[_vm._v(\"\\n              Remove Order\\n            \")])],1)])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],key:_vm.tableKey,ref:\"multipleTable\",refInFor:true,staticClass:\"order-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":order.order_items,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"50px\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Product\",\"width\":\"200px\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\" \"+_vm._s(scope.row.prod_name))])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mini_num\",\"label\":\"Num(/1 Unit)\",\"width\":\"150px\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Unit Price\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\" \"+_vm._s(scope.row.itm_price)+\" €\")])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"quantity\",\"label\":\"Quantity\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ttl_price\",\"label\":\"Total\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\" \"+_vm._s(scope.row.ttl_price)+\" €\")])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Has Gotten\",\"width\":\"100px\",\"align\":\"center\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#02538C\",\"inactive-color\":\"#B9B9B9\"},on:{\"change\":function($event){return _vm.handleChangeGotten(scope.row)}},model:{value:(scope.row.gotten),callback:function ($$v) {_vm.$set(scope.row, \"gotten\", $$v)},expression:\"scope.row.gotten\"}})]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Actions\",\"align\":\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.status!='deleted')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.confirmDeleteItem(row.id)}}},[_vm._v(\"\\n            Remove\\n          \")]):_vm._e()]}}],null,true)})],1)],1)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bd7c6d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user-order-table/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bd7c6d6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bd7c6d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bd7c6d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bd7c6d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user-order-table/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}